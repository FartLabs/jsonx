<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>jsonx</title>
    <link rel="stylesheet" href="./lib/playground/playground.css" />
  </head>
  <body>
    <nav>
      <a href="/"><h1>jsonx</h1></a>

      <span class="badges">
        <a href="https://jsr.io/@fartlabs/jsonx"
          ><span>API&nbsp;</span
          ><img
            class="jsr-badge"
            src="https://jsr.io/badges/@fartlabs/jsonx/score"
            alt="JSR badge" /></a
        ><a href="https://github.com/FartLabs/jsonx"
          ><span>GitHub&nbsp;</span
          ><img
            class="github-badge"
            src="https://simpleicons.org/icons/github.svg"
            alt="GitHub badge" /></a
      ></span>
    </nav>

    <!-- TODO: Consider abstracting the following into a component. -->
    <main>
      <details id="codeDetails" open>
        <summary>
          <span>TSX</span>
          <span>
            <select id="version" disabled></select>
            <button id="play" disabled>Play</button>
            <button id="share" disabled>Share</button>
          </span>
        </summary>

        <div id="editor"></div>
      </details>

      <details id="consoleDetails" open>
        <summary>
          <span>Console</span>
          <button id="clearConsoleOutput">Clear</button>
        </summary>
        <ul id="consoleOutput"></ul>
      </details>

      <!-- TODO: Consider sending build logs to console element. -->
      <details id="buildDetails">
        <summary>
          <span>Build logs</span>
          <button id="clearBuildOutput">Clear</button>
        </summary>
        <ul id="buildOutput"></ul>
      </details>

      <!-- TODO: Consider hiding iframe entirely. -->
      <details id="resultDetails">
        <summary>
          <span>Result</span>
          <span>
            <button id="refresh" disabled>Refresh</button>
          </span>
        </summary>
        <iframe
          id="result"
          name="jsonx"
          title="jsonx playground"
          sandbox="allow-forms allow-modals allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-top-navigation-by-user-activation allow-downloads allow-presentation"
          allow="accelerometer *; camera *; encrypted-media *; display-capture *; geolocation *; gyroscope *; microphone *; midi *; clipboard-read *; clipboard-write *; web-share *; serial *; xr-spatial-tracking *"
          scrolling="auto"
          allowtransparency="true"
          allowpaymentrequest="true"
          allowfullscreen="true"
          loading="lazy"
          spellcheck="false"
        >
        </iframe>
      </details>
    </main>

    <script type="module" src="./play.js" defer></script>
  </body>
</html>
